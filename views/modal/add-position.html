<div id="positionModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Add Position</h3>
            <button
                class="close-btn"
                hx-get="/modal/close"
                hx-target="#modal-container"
                hx-swap="innerHTML"
            >
                &times;
            </button>
        </div>
        <form
            id="positionForm"
            class="modal-form"
            hx-post="/api/positions/add"
            hx-target="#modal-container"
            hx-swap="innerHTML"
        >
            <div class="form-group">
                <label>Position Type</label>
                <select
                    id="positionType"
                    name="positionType"
                    required
                    hx-get="/modal/add-position-fields.html"
                    hx-target="#conditional-fields"
                    hx-swap="innerHTML"
                    hx-trigger="load, change"
                >
                    <option value="stock">Stock</option>
                    <option value="option">Option</option>
                </select>
            </div>

            <div class="form-group">
                <label>Ticker</label>
                <input
                    type="text"
                    id="ticker"
                    name="ticker"
                    required
                    placeholder="e.g., AAPL"
                    style="text-transform: uppercase"
                    oninput="this.value = this.value.toUpperCase()"
                />
            </div>

            <div id="conditional-fields">
                <!-- Stock or Option specific fields loaded here -->
            </div>

            <div class="form-group">
                <label>Open Date</label>
                <input type="date" id="openDate" name="openDate" />
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary">
                    Add Position
                </button>
                <button
                    type="button"
                    class="btn btn-secondary"
                    hx-get="/modal/close"
                    hx-target="#modal-container"
                    hx-swap="innerHTML"
                >
                    Cancel
                </button>
            </div>
        </form>
    </div>
</div>
"" """"
